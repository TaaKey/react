<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Component Specs and Lifecycle | React</title>
  <meta name="viewport" content="width=device-width">
  <meta property="og:title" content="Component Specs and Lifecycle | React">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://facebook.github.io/react/docs/component-specs.html">
  <meta property="og:image" content="https://facebook.github.io/react/img/logo_og.png">
  <meta property="og:description" content="A JavaScript library for building user interfaces">
  <meta property="fb:app_id" content="623268441017527">

  <link rel="shortcut icon" href="/react/favicon.ico">
  <link rel="alternate" type="application/rss+xml" title="React" href="https://127.0.0.1/react/feed.xml">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" />
  <link rel="stylesheet" href="/react/css/syntax.css">
  <link rel="stylesheet" href="/react/css/codemirror.css">
  <link rel="stylesheet" href="/react/css/react.css">

  <!-- Taakey: add fon-awesome -->
  <!-- 
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
  -->
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">

  <script src="//use.typekit.net/vqa1hcx.js"></script>
  <script>try{Typekit.load();}catch(e){}</script>

  <!--[if lte IE 8]>
  <script src="/react/js/html5shiv.min.js"></script>
  <script src="/react/js/es5-shim.min.js"></script>
  <script src="/react/js/es5-sham.min.js"></script>
  <![endif]-->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
  <script src="/react/js/codemirror.js"></script>
  <script src="/react/js/javascript.js"></script>
  <script src="/react/js/xml.js"></script>
  <script src="/react/js/jsx.js"></script>
  <script src="/react/js/react.js"></script>
  <script src="/react/js/react-dom.js"></script>
  <script src="/react/js/babel-browser.min.js"></script>
  <script src="/react/js/live_editor.js"></script>
</head>
<body>

  <div class="container">

    <div class="nav-main">
      <div class="wrap">
        <a class="nav-home" href="/react/index.html">
          <img class="nav-logo" src="/react/img/logo.svg" width="36" height="36">
          React
        </a>
        <ul class="nav-site nav-site-internal">
          <li><a href="/react/docs/getting-started.html" class="active">Docs/文档</a></li>
          <li><a href="/react/support.html">Support/支持</a></li>
          <li><a href="/react/downloads.html">Download/下载</a></li>
          <li><a href="/react/blog/">Blog/博客</a></li>
          <li>
            <input id="algolia-doc-search" type="text" placeholder="Search docs..." />
          </li>
        </ul>

        <ul class="nav-site nav-site-external">
          <li><a href="https://github.com/facebook/react">GitHub</a></li>
          <li><a href="https://facebook.github.io/react-native/">React Native</a></li>
        </ul>
      </div>
    </div>

    

    <section class="content wrap documentationContent">
  <div class="nav-docs">
  <!-- Docs Nav -->
  
    <div class="nav-docs-section">
      <h3>Quick Start / 快速入门</h3>
      <ul>
        
          <li>
            <a href="/react/docs/getting-started.html">Getting Started <br/><i class="icon-circle-arrow-right"></i> 快速开始</a>
            
          </li>
        
          <li>
            <a href="/react/docs/tutorial.html">Tutorial <br/><i class="icon-circle-arrow-right"></i> 教程</a>
            
          </li>
        
          <li>
            <a href="/react/docs/thinking-in-react.html">Thinking in React <br/><i class="icon-circle-arrow-right"></i> 深入理解React</a>
            
          </li>
        
      </ul>
    </div>
  
    <div class="nav-docs-section">
      <h3>Community Resources - - - - 社区资源</h3>
      <ul>
        
          <li>
            <a href="/react/docs/conferences.html">Conferences <br/><i class="icon-circle-arrow-right"></i> 会议</a>
            
          </li>
        
          <li>
            <a href="/react/docs/videos.html">Videos <br/><i class="icon-circle-arrow-right"></i> 视频</a>
            
          </li>
        
          <li>
            <a href="https://github.com/facebook/react/wiki/Complementary-Tools" class="external">Complementary Tools <br/><i class="icon-circle-arrow-right"></i> 其余工具</a>
            
          </li>
        
          <li>
            <a href="https://github.com/facebook/react/wiki/Examples" class="external">Examples <br/><i class="icon-circle-arrow-right"></i> 范例</a>
            
          </li>
        
      </ul>
    </div>
  
    <div class="nav-docs-section">
      <h3>Guides / 指南</h3>
      <ul>
        
          <li>
            <a href="/react/docs/why-react.html">Why React? <br/><i class="icon-circle-arrow-right"></i> 为什么使用 React?</a>
            
          </li>
        
          <li>
            <a href="/react/docs/displaying-data.html">Displaying Data <br/><i class="icon-circle-arrow-right"></i> 数据呈现</a>
            
              <ul>
                
                  <li>
                    <a href="/react/docs/jsx-in-depth.html">JSX in Depth <br/><i class="icon-circle-arrow-right"></i> 深入理解JSX</a>
                  </li>
                
                  <li>
                    <a href="/react/docs/jsx-spread.html">JSX Spread Attributes <br/><i class="icon-circle-arrow-right"></i> JSX的延展属性</a>
                  </li>
                
                  <li>
                    <a href="/react/docs/jsx-gotchas.html">JSX Gotchas / JSX的陷阱</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li>
            <a href="/react/docs/interactivity-and-dynamic-uis.html">Interactivity and Dynamic UIs <br/><i class="icon-circle-arrow-right"></i> 富交互性的动态用户界面</a>
            
          </li>
        
          <li>
            <a href="/react/docs/multiple-components.html">Multiple Components <br/><i class="icon-circle-arrow-right"></i> 复合组件</a>
            
          </li>
        
          <li>
            <a href="/react/docs/reusable-components.html">Reusable Components <br/><i class="icon-circle-arrow-right"></i> 可复用组件</a>
            
          </li>
        
          <li>
            <a href="/react/docs/transferring-props.html">Transferring Props <br/><i class="icon-circle-arrow-right"></i> 传递 Props</a>
            
          </li>
        
          <li>
            <a href="/react/docs/forms.html">Forms <br/><i class="icon-circle-arrow-right"></i> 表单组件</a>
            
          </li>
        
          <li>
            <a href="/react/docs/working-with-the-browser.html">Working With the Browser <br/><i class="icon-circle-arrow-right"></i> 浏览器中的工作原理</a>
            
              <ul>
                
                  <li>
                    <a href="/react/docs/more-about-refs.html">Refs to Components <br/><i class="icon-circle-arrow-right"></i> 关于Refs的更多内容</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li>
            <a href="/react/docs/tooling-integration.html">Tooling Integration <br/><i class="icon-circle-arrow-right"></i> 整合工具</a>
            
              <ul>
                
                  <li>
                    <a href="/react/docs/language-tooling.html">Language Tooling <br/><i class="icon-circle-arrow-right"></i> 语言工具</a>
                  </li>
                
                  <li>
                    <a href="/react/docs/package-management.html">Package Management <br/><i class="icon-circle-arrow-right"></i> 包管理器</a>
                  </li>
                
                  <li>
                    <a href="/react/docs/environments.html">Server-side Environments <br/><i class="icon-circle-arrow-right"></i> 服务器端环境</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li>
            <a href="/react/docs/addons.html">Add-Ons <br/><i class="icon-circle-arrow-right"></i> 插件</a>
            
              <ul>
                
                  <li>
                    <a href="/react/docs/animation.html">Animation <br/><i class="icon-circle-arrow-right"></i> 动画</a>
                  </li>
                
                  <li>
                    <a href="/react/docs/two-way-binding-helpers.html">Two-Way Binding Helpers <br/><i class="icon-circle-arrow-right"></i> 双向绑定</a>
                  </li>
                
                  <li>
                    <a href="/react/docs/test-utils.html">Test Utilities <br/><i class="icon-circle-arrow-right"></i> 测试工具集</a>
                  </li>
                
                  <li>
                    <a href="/react/docs/clone-with-props.html">Cloning Elements <br/><i class="icon-circle-arrow-right"></i> 克隆组件</a>
                  </li>
                
                  <li>
                    <a href="/react/docs/create-fragment.html">Keyed Fragments <br/><i class="icon-circle-arrow-right"></i> 键控片段</a>
                  </li>
                
                  <li>
                    <a href="/react/docs/update.html">Immutability Helpers <br/><i class="icon-circle-arrow-right"></i> 不变性的帮手</a>
                  </li>
                
                  <li>
                    <a href="/react/docs/pure-render-mixin.html">PureRenderMixin <br/><i class="icon-circle-arrow-right"></i> PureRenderMixin</a>
                  </li>
                
                  <li>
                    <a href="/react/docs/perf.html">Performance Tools <br/><i class="icon-circle-arrow-right"></i> 性能分析工具</a>
                  </li>
                
                  <li>
                    <a href="/react/docs/shallow-compare.html">Shallow Compare <br/><i class="icon-circle-arrow-right"></i> 浅的比较</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li>
            <a href="/react/docs/advanced-performance.html">Advanced Performance <br/><i class="icon-circle-arrow-right"></i> 高阶性能</a>
            
          </li>
        
          <li>
            <a href="/react/docs/context.html">Context <br/><i class="icon-circle-arrow-right"></i> 语境上下文</a>
            
          </li>
        
      </ul>
    </div>
  
    <div class="nav-docs-section">
      <h3>Reference / 参考</h3>
      <ul>
        
          <li>
            <a href="/react/docs/top-level-api.html">Top-Level API <br/><i class="icon-circle-arrow-right"></i> 顶层 API</a>
            
          </li>
        
          <li>
            <a href="/react/docs/component-api.html">Component API <br/><i class="icon-circle-arrow-right"></i> 组件 API</a>
            
          </li>
        
          <li>
            <a href="/react/docs/component-specs.html" class="active">Component Specs and Lifecycle <br/><i class="icon-circle-arrow-right"></i> 组件的详细说明和生命周期</a>
            
          </li>
        
          <li>
            <a href="/react/docs/tags-and-attributes.html">Supported Tags and Attributes <br/><i class="icon-circle-arrow-right"></i> 标签和属性支持</a>
            
          </li>
        
          <li>
            <a href="/react/docs/events.html">Event System <br/><i class="icon-circle-arrow-right"></i> 事件系统</a>
            
          </li>
        
          <li>
            <a href="/react/docs/dom-differences.html">DOM Differences <br/><i class="icon-circle-arrow-right"></i> 与 DOM 的差异</a>
            
          </li>
        
          <li>
            <a href="/react/docs/special-non-dom-attributes.html">Special Non-DOM Attributes <br/><i class="icon-circle-arrow-right"></i> 特殊的非 DOM 属性</a>
            
          </li>
        
          <li>
            <a href="/react/docs/reconciliation.html">Reconciliation <br/><i class="icon-circle-arrow-right"></i> 和解</a>
            
          </li>
        
          <li>
            <a href="/react/docs/webcomponents.html">Web Components <br/><i class="icon-circle-arrow-right"></i> Web组件</a>
            
          </li>
        
          <li>
            <a href="/react/docs/glossary.html">React (Virtual) DOM Terminology <br/><i class="icon-circle-arrow-right"></i> React（虚拟）DOM 术语</a>
            
          </li>
        
      </ul>
    </div>
  
    <div class="nav-docs-section">
      <h3>Flux</h3>
      <ul>
        
          <li>
            <a href="/react/docs/flux-overview.html">Flux Overview <br/><i class="icon-circle-arrow-right"></i>  Flux概述</a>
            
          </li>
        
          <li>
            <a href="/react/docs/flux-todo-list.html">Flux TodoMVC Tutorial <br/><i class="icon-circle-arrow-right"></i> Flux的TodoMVC教程</a>
            
          </li>
        
      </ul>
    </div>
  

  <!-- Tips Nav -->
  
    <div class="nav-docs-section">
      <h3>Tips / 技巧</h3>
      <ul>
        
          <li>
            <a href="/react/tips/introduction.html">Introduction <br/><i class="icon-circle-arrow-right"></i> 简介</a>
          </li>
        
          <li>
            <a href="/react/tips/inline-styles.html">Inline Styles <br/><i class="icon-circle-arrow-right"></i> 内部样式</a>
          </li>
        
          <li>
            <a href="/react/tips/if-else-in-JSX.html">If-Else in JSX <br/><i class="icon-circle-arrow-right"></i> JSX 的 If-Else</a>
          </li>
        
          <li>
            <a href="/react/tips/self-closing-tag.html">Self-Closing Tag <br/><i class="icon-circle-arrow-right"></i> 自闭合标签</a>
          </li>
        
          <li>
            <a href="/react/tips/maximum-number-of-jsx-root-nodes.html">Maximum Number of JSX Root Nodes <br/><i class="icon-circle-arrow-right"></i> JSF根节点最大数目</a>
          </li>
        
          <li>
            <a href="/react/tips/style-props-value-px.html">Shorthand for Specifying Pixel Values in style props <br/><i class="icon-circle-arrow-right"></i> 像素PX</a>
          </li>
        
          <li>
            <a href="/react/tips/children-props-type.html">Type of the Children props <br/><i class="icon-circle-arrow-right"></i> 子组件属性的类型</a>
          </li>
        
          <li>
            <a href="/react/tips/controlled-input-null-value.html">Value of null for Controlled Input <br/><i class="icon-circle-arrow-right"></i> input控件的null值</a>
          </li>
        
          <li>
            <a href="/react/tips/componentWillReceiveProps-not-triggered-after-mounting.html">componentWillReceiveProps Not Triggered After Mounting <br/><i class="icon-circle-arrow-right"></i> Mounting后componentWillReceiveProps未自动触发</a>
          </li>
        
          <li>
            <a href="/react/tips/props-in-getInitialState-as-anti-pattern.html">Props in getInitialState Is an Anti-Pattern <br/><i class="icon-circle-arrow-right"></i> 反模式：在getInitialState中使用Props</a>
          </li>
        
          <li>
            <a href="/react/tips/dom-event-listeners.html">DOM Event Listeners in a Component <br/><i class="icon-circle-arrow-right"></i> 组件中的DOM事件监听</a>
          </li>
        
          <li>
            <a href="/react/tips/initial-ajax.html">Load Initial Data via AJAX <br/><i class="icon-circle-arrow-right"></i> 使用AJAX加载初始化数据</a>
          </li>
        
          <li>
            <a href="/react/tips/false-in-jsx.html">False in JSX <br/><i class="icon-circle-arrow-right"></i> 在JSX中的False</a>
          </li>
        
          <li>
            <a href="/react/tips/communicate-between-components.html">Communicate Between Components <br/><i class="icon-circle-arrow-right"></i> 组件间的通信</a>
          </li>
        
          <li>
            <a href="/react/tips/expose-component-functions.html">Expose Component Functions <br/><i class="icon-circle-arrow-right"></i> 暴露组件功能</a>
          </li>
        
          <li>
            <a href="/react/tips/children-undefined.html">this.props.children undefined <br/><i class="icon-circle-arrow-right"></i> this.props.children未定义</a>
          </li>
        
          <li>
            <a href="/react/tips/use-react-with-other-libraries.html">Use React with Other Libraries <br/><i class="icon-circle-arrow-right"></i> 其它类库</a>
          </li>
        
          <li>
            <a href="/react/tips/dangerously-set-inner-html.html">Dangerously Set innerHTML <br/><i class="icon-circle-arrow-right"></i> 设置innerHTML很危险</a>
          </li>
        
      </ul>
    </div>
  

  <!-- Contributing Nav -->
  
    <div class="nav-docs-section">
      <h3>Contributing</h3>
      <ul>
        
          <li>
            <a href="/react/contributing/design-principles.html">Design Principles</a>
          </li>
        
      </ul>
    </div>
  
</div>


  <div class="inner-content">
    <a class="edit-page-link" href="https://github.com/facebook/react/tree/master/docs/docs/ref-03-component-specs.md" target="_blank">Edit on GitHub</a>
    <h1>
      Component Specs and Lifecycle
    </h1>
    <div class="subHeader"></div>

    <h2><a class="anchor" name="component-specifications"></a>Component Specifications <a class="hash-link" href="#component-specifications">#</a></h2>
<p>When creating a component class by invoking <code>React.createClass()</code>, you should provide a specification object that contains a <code>render</code> method and can optionally contain other lifecycle methods described here.</p>

<blockquote>
<p>Note:</p>

<p>It is also possible to use plain JavaScript classes as component classes. These classes can implement most of the same methods, though there are some differences. For more information about these differences, please read our documentation about <a href="/react/docs/reusable-components.html#es6-classes">ES6 classes</a>.</p>
</blockquote>
<h3><a class="anchor" name="render"></a>render <a class="hash-link" href="#render">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ReactElement</span> <span class="nx">render</span><span class="p">()</span>
</code></pre></div>
<p>The <code>render()</code> method is required.</p>

<p>When called, it should examine <code>this.props</code> and <code>this.state</code> and return a single child element. This child element can be either a virtual representation of a native DOM component (such as <code>&lt;div /&gt;</code> or <code>React.DOM.div()</code>) or another composite component that you&#39;ve defined yourself.</p>

<p>You can also return <code>null</code> or <code>false</code> to indicate that you don&#39;t want anything rendered. Behind the scenes, React renders a <code>&lt;noscript&gt;</code> tag to work with our current diffing algorithm. When returning <code>null</code> or <code>false</code>, <code>ReactDOM.findDOMNode(this)</code> will return <code>null</code>.</p>

<p>The <code>render()</code> function should be <em>pure</em>, meaning that it does not modify component state, it returns the same result each time it&#39;s invoked, and it does not read from or write to the DOM or otherwise interact with the browser (e.g., by using <code>setTimeout</code>). If you need to interact with the browser, perform your work in <code>componentDidMount()</code> or the other lifecycle methods instead. Keeping <code>render()</code> pure makes server rendering more practical and makes components easier to think about.</p>
<h3><a class="anchor" name="getinitialstate"></a>getInitialState <a class="hash-link" href="#getinitialstate">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">object</span> <span class="nx">getInitialState</span><span class="p">()</span>
</code></pre></div>
<p>Invoked once before the component is mounted. The return value will be used as the initial value of <code>this.state</code>.</p>
<h3><a class="anchor" name="getdefaultprops"></a>getDefaultProps <a class="hash-link" href="#getdefaultprops">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">object</span> <span class="nx">getDefaultProps</span><span class="p">()</span>
</code></pre></div>
<p>Invoked once and cached when the class is created. Values in the mapping will be set on <code>this.props</code> if that prop is not specified by the parent component (i.e. using an <code>in</code> check).</p>

<p>This method is invoked before any instances are created and thus cannot rely on <code>this.props</code>. In addition, be aware that any complex objects returned by <code>getDefaultProps()</code> will be shared across instances, not copied.</p>
<h3><a class="anchor" name="proptypes"></a>propTypes <a class="hash-link" href="#proptypes">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">object</span> <span class="nx">propTypes</span>
</code></pre></div>
<p>The <code>propTypes</code> object allows you to validate props being passed to your components. For more information about <code>propTypes</code>, see <a href="/react/docs/reusable-components.html">Reusable Components</a>.</p>
<h3><a class="anchor" name="mixins"></a>mixins <a class="hash-link" href="#mixins">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">array</span> <span class="nx">mixins</span>
</code></pre></div>
<p>The <code>mixins</code> array allows you to use mixins to share behavior among multiple components. For more information about mixins, see <a href="/react/docs/reusable-components.html">Reusable Components</a>.</p>
<h3><a class="anchor" name="statics"></a>statics <a class="hash-link" href="#statics">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">object</span> <span class="nx">statics</span>
</code></pre></div>
<p>The <code>statics</code> object allows you to define static methods that can be called on the component class. For example:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">MyComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">statics</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">customMethod</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">foo</span> <span class="o">===</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">MyComponent</span><span class="p">.</span><span class="nx">customMethod</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">);</span>  <span class="c1">// true</span>
</code></pre></div>
<p>Methods defined within this block are <em>static</em>, meaning that you can run them before any component instances are created, and the methods do not have access to the props or state of your components. If you want to check the value of props in a static method, have the caller pass in the props as an argument to the static method.</p>
<h3><a class="anchor" name="displayname"></a>displayName <a class="hash-link" href="#displayname">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">string</span> <span class="nx">displayName</span>
</code></pre></div>
<p>The <code>displayName</code> string is used in debugging messages. JSX sets this value automatically; see <a href="/react/docs/jsx-in-depth.html#the-transform">JSX in Depth</a>.</p>
<h2><a class="anchor" name="lifecycle-methods"></a>Lifecycle Methods <a class="hash-link" href="#lifecycle-methods">#</a></h2>
<p>Various methods are executed at specific points in a component&#39;s lifecycle.</p>
<h3><a class="anchor" name="mounting-componentwillmount"></a>Mounting: componentWillMount <a class="hash-link" href="#mounting-componentwillmount">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">componentWillMount</span><span class="p">()</span>
</code></pre></div>
<p>Invoked once, both on the client and server, immediately before the initial rendering occurs. If you call <code>setState</code> within this method, <code>render()</code> will see the updated state and will be executed only once despite the state change.</p>
<h3><a class="anchor" name="mounting-componentdidmount"></a>Mounting: componentDidMount <a class="hash-link" href="#mounting-componentdidmount">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">componentDidMount</span><span class="p">()</span>
</code></pre></div>
<p>Invoked once, only on the client (not on the server), immediately after the initial rendering occurs. At this point in the lifecycle, you can access any refs to your children (e.g., to access the underlying DOM representation). The <code>componentDidMount()</code> method of child components is invoked before that of parent components.</p>

<p>If you want to integrate with other JavaScript frameworks, set timers using <code>setTimeout</code> or <code>setInterval</code>, or send AJAX requests, perform those operations in this method.</p>
<h3><a class="anchor" name="updating-componentwillreceiveprops"></a>Updating: componentWillReceiveProps <a class="hash-link" href="#updating-componentwillreceiveprops">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">componentWillReceiveProps</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">nextProps</span>
<span class="p">)</span>
</code></pre></div>
<p>Invoked when a component is receiving new props. This method is not called for the initial render.</p>

<p>Use this as an opportunity to react to a prop transition before <code>render()</code> is called by updating the state using <code>this.setState()</code>. The old props can be accessed via <code>this.props</code>. Calling <code>this.setState()</code> within this function will not trigger an additional render.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">componentWillReceiveProps</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nextProps</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
    <span class="nx">likesIncreasing</span><span class="o">:</span> <span class="nx">nextProps</span><span class="p">.</span><span class="nx">likeCount</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">likeCount</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>Note:</p>

<p>One common mistake is for code executed during this lifecycle method to assume that props have changed.  To understand why this is invalid, read <a href="/react/blog/2016/01/08/A-implies-B-does-not-imply-B-implies-A.html">A implies B does not imply B implies A</a></p>

<p>There is no analogous method <code>componentWillReceiveState</code>. An incoming prop transition may cause a state change, but the opposite is not true. If you need to perform operations in response to a state change, use <code>componentWillUpdate</code>.</p>
</blockquote>
<h3><a class="anchor" name="updating-shouldcomponentupdate"></a>Updating: shouldComponentUpdate <a class="hash-link" href="#updating-shouldcomponentupdate">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">shouldComponentUpdate</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">nextProps</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">nextState</span>
<span class="p">)</span>
</code></pre></div>
<p>Invoked before rendering when new props or state are being received. This method is not called for the initial render or when <code>forceUpdate</code> is used.</p>

<p>Use this as an opportunity to <code>return false</code> when you&#39;re certain that the transition to the new props and state will not require a component update.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">shouldComponentUpdate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nextProps</span><span class="p">,</span> <span class="nx">nextState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">nextProps</span><span class="p">.</span><span class="nx">id</span> <span class="o">!==</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>If <code>shouldComponentUpdate</code> returns false, then <code>render()</code> will be completely skipped until the next state change. In addition, <code>componentWillUpdate</code> and <code>componentDidUpdate</code> will not be called.</p>

<p>By default, <code>shouldComponentUpdate</code> always returns <code>true</code> to prevent subtle bugs when <code>state</code> is mutated in place, but if you are careful to always treat <code>state</code> as immutable and to read only from <code>props</code> and <code>state</code> in <code>render()</code> then you can override <code>shouldComponentUpdate</code> with an implementation that compares the old props and state to their replacements.</p>

<p>If performance is a bottleneck, especially with dozens or hundreds of components, use <code>shouldComponentUpdate</code> to speed up your app.</p>
<h3><a class="anchor" name="updating-componentwillupdate"></a>Updating: componentWillUpdate <a class="hash-link" href="#updating-componentwillupdate">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">componentWillUpdate</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">nextProps</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">nextState</span>
<span class="p">)</span>
</code></pre></div>
<p>Invoked immediately before rendering when new props or state are being received. This method is not called for the initial render.</p>

<p>Use this as an opportunity to perform preparation before an update occurs.</p>

<blockquote>
<p>Note:</p>

<p>You <em>cannot</em> use <code>this.setState()</code> in this method. If you need to update state in response to a prop change, use <code>componentWillReceiveProps</code> instead.</p>
</blockquote>
<h3><a class="anchor" name="updating-componentdidupdate"></a>Updating: componentDidUpdate <a class="hash-link" href="#updating-componentdidupdate">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">componentDidUpdate</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">prevProps</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">prevState</span>
<span class="p">)</span>
</code></pre></div>
<p>Invoked immediately after the component&#39;s updates are flushed to the DOM. This method is not called for the initial render.</p>

<p>Use this as an opportunity to operate on the DOM when the component has been updated.</p>
<h3><a class="anchor" name="unmounting-componentwillunmount"></a>Unmounting: componentWillUnmount <a class="hash-link" href="#unmounting-componentwillunmount">#</a></h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">componentWillUnmount</span><span class="p">()</span>
</code></pre></div>
<p>Invoked immediately before a component is unmounted from the DOM.</p>

<p>Perform any necessary cleanup in this method, such as invalidating timers or cleaning up any DOM elements that were created in <code>componentDidMount</code>.</p>


    <div class="docs-prevnext">
      
        <a class="docs-prev" href="/react/docs/component-api.html">&larr; Prev（上一页）</a>
      
      
        <a class="docs-next" href="/react/docs/tags-and-attributes.html">Next（下一页） &rarr;</a>
      
    </div>
  </div>
</section>


    <footer class="wrap">
      <div class="left">
        A Facebook &amp; Instagram collaboration.<br>
        <a href="/react/acknowledgements.html">Acknowledgements</a>
      </div>
      <div class="right">
        &copy; 2013&ndash;2016 Facebook Inc.<br>
        Documentation licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.
      </div>
    </footer>
  </div>
  <div id="fb-root"></div>

  <script>
    /* Taakey: google analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-41298772-1', 'facebook.github.io');
    ga('send', 'pageview');
    */
    /* Taakey: twitter widgets
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    */
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=623268441017527";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));

    docsearch({
      apiKey: '36221914cce388c46d0420343e0bb32e',
      indexName: 'react',
      inputSelector: '#algolia-doc-search'
    });
  </script>
</body>
</html>
